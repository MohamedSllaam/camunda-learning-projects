<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:zeebe="http://camunda.org/schema/zeebe/1.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bioc="http://bpmn.io/schema/bpmn/biocolor/1.0" xmlns:color="http://www.omg.org/spec/BPMN/non-normative/color/1.0" xmlns:modeler="http://camunda.org/schema/modeler/1.0" id="Definitions_1xgutjw" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="5.40.0" modeler:executionPlatform="Camunda Cloud" modeler:executionPlatformVersion="8.8.0">
  <bpmn:collaboration id="Collaboration_15qsd48">
    <bpmn:participant id="CateringCancellationParticipant" name="Catering Cancellation" processRef="cat_agreement_cancel_request" />
  </bpmn:collaboration>
  <bpmn:process id="cat_agreement_cancel_request" name="Catering Agreement Cancellation" isExecutable="true">
    <bpmn:serviceTask id="ApproveTask" name="Approve">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="CAT_MODIFY_APPROVE" />
      </bpmn:extensionElements>
      <bpmn:incoming>IsApprovedSequenceFlow</bpmn:incoming>
      <bpmn:outgoing>Flow_0rr5ob9</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:endEvent id="ApprovedSuccessfullyEndEvent" name="Approved Successfully">
      <bpmn:incoming>Flow_0rr5ob9</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_00yal4b" sourceRef="ReachStartDateEvent" targetRef="TimeoutTask" />
    <bpmn:sequenceFlow id="Flow_02j00hi" sourceRef="WithdrawByUOEvent" targetRef="WithdrawTask" />
    <bpmn:sequenceFlow id="Flow_07sbo2r" sourceRef="Gateway_0zgu0s5" targetRef="WithdrawByUOEvent" />
    <bpmn:sequenceFlow id="Flow_0eazx9m" sourceRef="WaitForCateringProviderResponseEvent" targetRef="SubmitAgreementRequestGateway" />
    <bpmn:sequenceFlow id="Flow_0f78adu" sourceRef="WithdrawTask" targetRef="WithdrawnCompletedEndEvent" />
    <bpmn:sequenceFlow id="Flow_0rr5ob9" sourceRef="ApproveTask" targetRef="ApprovedSuccessfullyEndEvent" />
    <bpmn:sequenceFlow id="Flow_103f4hc" sourceRef="Gateway_0zgu0s5" targetRef="ReachStartDateEvent" />
    <bpmn:sequenceFlow id="Flow_1i9ysdo" sourceRef="TimeoutTask" targetRef="TimeoutEndEvent" />
    <bpmn:sequenceFlow id="Flow_1itoxfx" sourceRef="RejectTask" targetRef="RejectedEndEvent" />
    <bpmn:sequenceFlow id="Flow_1jqzbif" sourceRef="Gateway_0zgu0s5" targetRef="WaitForCateringProviderResponseEvent" />
    <bpmn:sequenceFlow id="IsApprovedSequenceFlow" name="Is Approved" sourceRef="SubmitAgreementRequestGateway" targetRef="ApproveTask">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=isApproved</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1v145lv" sourceRef="StartStartEvent" targetRef="Gateway_0zgu0s5" />
    <bpmn:exclusiveGateway id="SubmitAgreementRequestGateway" name="Submit Agreement Request" default="Flow_0mpln8r">
      <bpmn:incoming>Flow_0eazx9m</bpmn:incoming>
      <bpmn:outgoing>IsApprovedSequenceFlow</bpmn:outgoing>
      <bpmn:outgoing>Flow_0mpln8r</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:serviceTask id="RejectTask" name="Reject">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="CAT_CANCEL_REJECT" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0mpln8r</bpmn:incoming>
      <bpmn:outgoing>Flow_1itoxfx</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:endEvent id="RejectedEndEvent" name="Rejected">
      <bpmn:incoming>Flow_1itoxfx</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:intermediateCatchEvent id="WaitForCateringProviderResponseEvent" name="Wait for Catering provider response">
      <bpmn:incoming>Flow_1jqzbif</bpmn:incoming>
      <bpmn:outgoing>Flow_0eazx9m</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_13ks6xp" messageRef="Message_0fl0i6l" />
    </bpmn:intermediateCatchEvent>
    <bpmn:sequenceFlow id="Flow_0mpln8r" sourceRef="SubmitAgreementRequestGateway" targetRef="RejectTask" />
    <bpmn:eventBasedGateway id="Gateway_0zgu0s5">
      <bpmn:incoming>Flow_1v145lv</bpmn:incoming>
      <bpmn:outgoing>Flow_1jqzbif</bpmn:outgoing>
      <bpmn:outgoing>Flow_07sbo2r</bpmn:outgoing>
      <bpmn:outgoing>Flow_103f4hc</bpmn:outgoing>
    </bpmn:eventBasedGateway>
    <bpmn:intermediateCatchEvent id="ReachStartDateEvent" name="Reach start date">
      <bpmn:incoming>Flow_103f4hc</bpmn:incoming>
      <bpmn:outgoing>Flow_00yal4b</bpmn:outgoing>
      <bpmn:timerEventDefinition id="TimerEventDefinition_1nrrp2x">
        <bpmn:timeDate xsi:type="bpmn:tFormalExpression">=agreementStartDate</bpmn:timeDate>
      </bpmn:timerEventDefinition>
    </bpmn:intermediateCatchEvent>
    <bpmn:startEvent id="StartStartEvent" name="Start">
      <bpmn:outgoing>Flow_1v145lv</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:endEvent id="TimeoutEndEvent" name="Timeout">
      <bpmn:incoming>Flow_1i9ysdo</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:serviceTask id="TimeoutTask" name="Timeout">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="CAT_CANCEL_TIMEOUT" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_00yal4b</bpmn:incoming>
      <bpmn:outgoing>Flow_1i9ysdo</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="WithdrawTask" name="Withdraw">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="CAT_CANCEL_WITHDRAW" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_02j00hi</bpmn:incoming>
      <bpmn:outgoing>Flow_0f78adu</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:intermediateCatchEvent id="WithdrawByUOEvent" name="Withdraw by UO">
      <bpmn:incoming>Flow_07sbo2r</bpmn:incoming>
      <bpmn:outgoing>Flow_02j00hi</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_0cs3hut" messageRef="Message_00k4olj" />
    </bpmn:intermediateCatchEvent>
    <bpmn:endEvent id="WithdrawnCompletedEndEvent" name="Withdrawn Completed">
      <bpmn:incoming>Flow_0f78adu</bpmn:incoming>
    </bpmn:endEvent>
  </bpmn:process>
  <bpmn:message id="Message_0fl0i6l" name="msg_catering_cancel_response">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=cancelRequestId" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:message id="Message_00k4olj" name="msg_catering_withdraw_cancel_response">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=cancelRequestId" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_15qsd48">
      <bpmndi:BPMNShape id="Participant_0tbman5_di" bpmnElement="CateringCancellationParticipant" isHorizontal="true">
        <dc:Bounds x="160" y="56" width="690" height="500" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0wjnsnr" bpmnElement="ApproveTask">
        <dc:Bounds x="640" y="80" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0ggresm_di" bpmnElement="ApprovedSuccessfullyEndEvent" bioc:stroke="#205022" bioc:fill="#c8e6c9" color:background-color="#c8e6c9" color:border-color="#205022">
        <dc:Bounds x="792" y="102" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="781" y="145" width="62" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0q59t4i_di" bpmnElement="SubmitAgreementRequestGateway" isMarkerVisible="true">
        <dc:Bounds x="545" y="205" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="543" y="260" width="54" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_06i9ya7" bpmnElement="RejectTask">
        <dc:Bounds x="640" y="190" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_02lhkpx_di" bpmnElement="RejectedEndEvent" bioc:stroke="#831311" bioc:fill="#ffcdd2" color:background-color="#ffcdd2" color:border-color="#831311">
        <dc:Bounds x="792" y="212" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="788" y="255" width="44" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1h07qd2" bpmnElement="WaitForCateringProviderResponseEvent">
        <dc:Bounds x="442" y="212" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="416" y="255" width="89" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1hzpw7f_di" bpmnElement="Gateway_0zgu0s5">
        <dc:Bounds x="320" y="354" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1jfem3y_di" bpmnElement="ReachStartDateEvent">
        <dc:Bounds x="442" y="474" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="420" y="517" width="81" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0t6m7r3_di" bpmnElement="StartStartEvent" bioc:stroke="#6b3c00" bioc:fill="#ffe0b2" color:background-color="#ffe0b2" color:border-color="#6b3c00">
        <dc:Bounds x="212" y="361" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="218" y="404" width="25" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1rm2ujg_di" bpmnElement="TimeoutEndEvent" bioc:stroke="#831311" bioc:fill="#ffcdd2" color:background-color="#ffcdd2" color:border-color="#831311">
        <dc:Bounds x="682" y="474" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="681" y="517" width="40" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1473n8u_di" bpmnElement="TimeoutTask">
        <dc:Bounds x="530" y="452" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_13k4f4g" bpmnElement="WithdrawTask">
        <dc:Bounds x="530" y="339" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1akcwyk" bpmnElement="WithdrawByUOEvent">
        <dc:Bounds x="442" y="361" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="420" y="404" width="80" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0uxllw9_di" bpmnElement="WithdrawnCompletedEndEvent" bioc:stroke="#831311" bioc:fill="#ffcdd2" color:background-color="#ffcdd2" color:border-color="#831311">
        <dc:Bounds x="682" y="361" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="673" y="404" width="54" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_00yal4b_di" bpmnElement="Flow_00yal4b">
        <di:waypoint x="478" y="492" />
        <di:waypoint x="530" y="492" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_02j00hi_di" bpmnElement="Flow_02j00hi">
        <di:waypoint x="478" y="379" />
        <di:waypoint x="530" y="379" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_07sbo2r_di" bpmnElement="Flow_07sbo2r">
        <di:waypoint x="370" y="379" />
        <di:waypoint x="442" y="379" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0eazx9m_di" bpmnElement="Flow_0eazx9m">
        <di:waypoint x="478" y="230" />
        <di:waypoint x="545" y="230" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0f78adu_di" bpmnElement="Flow_0f78adu">
        <di:waypoint x="630" y="379" />
        <di:waypoint x="682" y="379" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0rr5ob9_di" bpmnElement="Flow_0rr5ob9">
        <di:waypoint x="740" y="120" />
        <di:waypoint x="792" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_103f4hc_di" bpmnElement="Flow_103f4hc">
        <di:waypoint x="345" y="404" />
        <di:waypoint x="345" y="492" />
        <di:waypoint x="442" y="492" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1i9ysdo_di" bpmnElement="Flow_1i9ysdo">
        <di:waypoint x="630" y="492" />
        <di:waypoint x="682" y="492" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1itoxfx_di" bpmnElement="Flow_1itoxfx">
        <di:waypoint x="740" y="230" />
        <di:waypoint x="792" y="230" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1jqzbif_di" bpmnElement="Flow_1jqzbif">
        <di:waypoint x="345" y="354" />
        <di:waypoint x="345" y="230" />
        <di:waypoint x="442" y="230" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1kkk2x8_di" bpmnElement="IsApprovedSequenceFlow">
        <di:waypoint x="570" y="205" />
        <di:waypoint x="570" y="120" />
        <di:waypoint x="640" y="120" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="560" y="103" width="59" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1v145lv_di" bpmnElement="Flow_1v145lv">
        <di:waypoint x="248" y="379" />
        <di:waypoint x="320" y="379" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0mpln8r_di" bpmnElement="Flow_0mpln8r">
        <di:waypoint x="595" y="230" />
        <di:waypoint x="640" y="230" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
